---
import { Image } from "astro:assets";
import lakehouse from "../../public/lakehouse.png";
import stockmarket from "../../public/stockmarket.png";
import northwind from "../../public/northwind.png";
import scholarstream from "../../public/scholarstream.png";
const base = import.meta.env.BASE_URL;


interface Project {
  title: string;
  image: ImageMetadata;
  link: string;
  descriptionRich?: {
    sections: Array<
      | { icon?: string; title: string; type: 'paragraph'; content: string; size?: 'base' | 'lg' }
      | { icon?: string; title: string; type: 'list'; items: string[] }
    >;
  };
}

const projects: Project[] = [
  {
    title: "Sistema de Análise Geoestatística - Pesquisa CNPq",
    image: lakehouse as ImageMetadata,
    link: "https://github.com/Victormartinsilva/analise-geoestatistica-cnpq",
    descriptionRich: {
      sections: [
        {
          icon: "",
          title: "Desafio",
          type: "paragraph",
          content:
            "Desenvolver um sistema completo para análise espacial de variáveis georreferenciadas em projetos de pesquisa científica, integrando análise estatística avançada com visualização geoespacial."
        },
        {
          icon: "",
          title: "Solução",
          type: "list",
          items: [
            "Implementei análises geoestatísticas avançadas utilizando R para modelagem espacial e interpolação de dados.",
            "Desenvolvi pipeline de dados com MySQL para armazenamento e consulta otimizada de grandes volumes de dados georreferenciados.",
            "Criei mapas temáticos e visualizações interativas com QGIS para comunicação efetiva dos resultados de pesquisa.",
            "Automatizei relatórios científicos com geração de gráficos estatísticos e mapas de distribuição espacial."
          ]
        },
        {
          icon: "",
          title: "Impacto",
          type: "list",
          items: [
            "Acelerou o processo de análise geoestatística de semanas para dias através da automação completa.",
            "Contribuiu para publicações científicas com visualizações de alta qualidade e análises rigorosas.",
            "Criou metodologia replicável para projetos similares de análise espacial em pesquisa."
          ]
        },
        {
          icon: "",
          title: "Stack",
          type: "paragraph",
          content:
            "R, MySQL, QGIS, Análise Geoestatística, Visualização de Dados Espaciais.",
          size: "base"
        }
      ]
    }
  },
  {
    title: "Dashboard de Controle de Produção Industrial - FK Steel",
    image: stockmarket as ImageMetadata,
    link: "https://github.com/Victormartinsilva/dashboard-producao-fk-steel",
    descriptionRich: {
      sections: [
        {
          icon: "",
          title: "Desafio",
          type: "paragraph",
          content:
            "Criar sistema de monitoramento em tempo real para controle de produção industrial, integrando dados de programação CNC, custos operacionais e indicadores de produtividade."
        },
        {
          icon: "",
          title: "Solução",
          type: "list",
          items: [
            "Desenvolvi dashboards interativos no Power BI para monitoramento de KPIs de produção, custos e eficiência operacional.",
            "Implementei sistema de coleta automática de dados de máquinas CNC e integração com sistema ERP.",
            "Criei indicadores de performance (OEE, produtividade por turno, análise de setup) para otimização contínua.",
            "Desenvolvi relatórios automatizados para gestão com alertas de desvios e tendências de performance."
          ]
        },
        {
          icon: "",
          title: "Impacto",
          type: "list",
          items: [
            "Reduziu tempo de geração de relatórios de produção de 4 horas para 15 minutos através da automação.",
            "Identificou gargalos de produção que resultaram em 20% de aumento na eficiência operacional.",
            "Implementou sistema de alertas que reduziu tempo de resposta a problemas de produção em 60%."
          ]
        },
        {
          icon: "",
          title: "Stack",
          type: "paragraph",
          content:
            "Power BI, Excel, Programação CNC, Análise de Processos Industriais, KPIs.",
          size: "base"
        }
      ]
    }
  },
  {
    title: "Sistema de Agricultura de Precisão - Unimaq/John Deere",
    image: northwind as ImageMetadata,
    link: "https://github.com/Victormartinsilva/agricultura-precisao-john-deere",
    descriptionRich: {
      sections: [
        {
          icon: "",
          title: "Desafio",
          type: "paragraph",
          content:
            "Desenvolver soluções de análise de dados para agricultura de precisão, otimizando produtividade agrícola através de tecnologia avançada e análise de dados geoespaciais."
        },
        {
          icon: "",
          title: "Solução",
          type: "list",
          items: [
            "Analisei dados de telemetria de máquinas agrícolas para otimização de rotas e operações de campo.",
            "Desenvolvi mapas de produtividade e prescrição utilizando dados de sensores e GPS de alta precisão.",
            "Implementei análises de variabilidade espacial para recomendações de manejo diferenciado por zona.",
            "Criei dashboards para produtores com indicadores de performance e recomendações técnicas."
          ]
        },
        {
          icon: "",
          title: "Impacto",
          type: "list",
          items: [
            "Aumentou produtividade média das propriedades atendidas em 15% através de manejo otimizado.",
            "Reduziu custos de insumos em 12% através de aplicação de taxa variável baseada em dados.",
            "Melhorou eficiência operacional com redução de 25% no tempo de operações de campo."
          ]
        },
        {
          icon: "",
          title: "Stack",
          type: "paragraph",
          content:
            "QGIS, Análise Geoespacial, Telemetria, GPS, Agricultura de Precisão, Power BI.",
          size: "base"
        }
      ]
    }
  },
  {
    title: "Plataforma de Analytics EICON - Análise de Mercado",
    image: scholarstream as ImageMetadata,
    link: "https://github.com/Victormartinsilva/analytics-eicon",
    descriptionRich: {
      sections: [
        {
          icon: "",
          title: "Desafio",
          type: "paragraph",
          content:
            "Criar plataforma de análise de dados para identificação de oportunidades e tendências de mercado, suportando decisões estratégicas com insights baseados em dados."
        },
        {
          icon: "",
          title: "Solução",
          type: "list",
          items: [
            "Desenvolvi dashboards executivos com Power BI para análise de tendências de mercado e performance competitiva.",
            "Implementei pipeline de dados automatizado para coleta e processamento de informações de múltiplas fontes.",
            "Criei modelos preditivos com Python para forecasting de demanda e identificação de oportunidades.",
            "Desenvolvi relatórios automatizados para diferentes níveis hierárquicos com KPIs personalizados."
          ]
        },
        {
          icon: "",
          title: "Impacto",
          type: "list",
          items: [
            "Acelerei processo de análise de mercado de semanas para dias através de automação completa.",
            "Identificou oportunidades de negócio que resultaram em 18% de crescimento em novos segmentos.",
            "Implementou cultura data-driven na organização com democratização do acesso a insights."
          ]
        },
        {
          icon: "",
          title: "Stack",
          type: "paragraph",
          content:
            "Python, Power BI, Análise Preditiva, ETL, Dashboard Executivo, KPIs.",
          size: "base"
        }
      ]
    }
  },
];
---

<section id="projetos" class="scroll-mt-24 py-12 border-t border-[#ffffff10] text-[var(--white)]">
  <div class="max-w-5xl mx-auto">
    <h2 class="text-lg text-[var(--sec)] mb-2 shiny-sec">Cases de sucesso</h2>
    <h3 class="text-4xl md:text-5xl font-medium mb-8">Problemas Reais, Soluções Mensuráveis</h3>
    <div class="grid grid-cols-1 gap-0">
      {
        projects.map((project) => (
          <div class="block border-t border-[#ffffff10] py-12 md:py-16 first:border-t-0 first:pt-0">
            <div class="rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 mb-6">
              <div class="aspect-video"> <!-- 16:9 -->
                <Image
                  src={project.image}
                  alt={project.title}
                  class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                />
              </div>
            </div>
            <div class="px-3">
              <div>
                <h4 class="text-3xl font-semibold">{project.title}</h4>
                {project.descriptionRich && (
                  <div class="mt-3 space-y-4">
                    {project.descriptionRich.sections.map((sec) => (
                      sec.type === 'paragraph' ? (
                        <p class={`text-[var(--white-icon)] ${
                              sec.size === 'base' ? 'text-base md:text-lg' : 'text-lg md:text-xl'
                            } leading-8`}>
                          {sec.icon ? <span class="mr-2">{sec.icon}</span> : null}
                          <strong class="text-[var(--white)]">{sec.title}:</strong>{' '}
                          {sec.content}
                        </p>
                      ) : (
                        <div>
                          <p class="text-[var(--white-icon)] text-lg md:text-xl leading-8">
                            {sec.icon ? <span class="mr-2">{sec.icon}</span> : null}
                            <strong class="text-[var(--white)]">{sec.title}:</strong>
                          </p>
                          <ul class="text-[var(--white-icon)] text-base md:text-lg mt-2 list-disc pl-5 space-y-1">
                            {sec.items.map((item) => <li>{item}</li>)}
                          </ul>
                        </div>
                      )
                    ))}
                  </div>
                )}
                <a
                  target="_blank"
                  href={project.link}
                  aria-label={`Repositório de ${project.title}`}
                  class="inline-flex items-center gap-2 mt-4 text-[var(--white-icon)] hover:text-white transition duration-300 ease-in-out border border-[var(--white-icon-tr)] px-3 py-2 rounded-xl bg-[#1414149c] hover:bg-[var(--white-icon-tr)]"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    class="size-5"
                  >
                    <path
                      d="M12.001 2C6.47598 2 2.00098 6.475 2.00098 12C2.00098 16.425 4.86348 20.1625 8.83848 21.4875C9.33848 21.575 9.52598 21.275 9.52598 21.0125C9.52598 20.775 9.51348 19.9875 9.51348 19.15C7.00098 19.6125 6.35098 18.5375 6.15098 17.975C6.03848 17.6875 5.55098 16.8 5.12598 16.5625C4.77598 16.375 4.27598 15.9125 5.11348 15.9C5.90098 15.8875 6.46348 16.625 6.65098 16.925C7.55098 18.4375 8.98848 18.0125 9.56348 17.75C9.65098 17.1 9.91348 16.6625 10.201 16.4125C7.97598 16.1625 5.65098 15.3 5.65098 11.475C5.65098 10.3875 6.03848 9.4875 6.67598 8.7875C6.57598 8.5375 6.22598 7.5125 6.77598 6.1375C6.77598 6.1375 7.61348 5.875 9.52598 7.1625C10.326 6.9375 11.176 6.825 12.026 6.825C12.876 6.825 13.726 6.9375 14.526 7.1625C16.4385 5.8625 17.276 6.1375 17.276 6.1375C17.826 7.5125 17.476 8.5375 17.376 8.7875C18.0135 9.4875 18.401 10.375 18.401 11.475C18.401 15.3125 16.0635 16.1625 13.8385 16.4125C14.201 16.725 14.5135 17.325 14.5135 18.2625C14.5135 19.6 14.501 20.675 14.501 21.0125C14.501 21.275 14.6885 21.5875 15.1885 21.4875C19.259 20.1133 21.9999 16.2963 22.001 12C22.001 6.475 17.526 2 12.001 2Z"
                    />
                  </svg>
                  <span class="text-sm md:text-base font-medium"> Ver repositório </span>
                </a>
              </div>
            </div>
          </div>
        ))
      }
    </div>
    <a
      target="_blank"
      href="https://github.com/Victormartinsilva?tab=repositories"
      aria-label="GitHub"
      class="w-full flex items-center justify-center gap-2 mt-9 text-[var(--white-icon)] hover:text-white transition duration-300 ease-in-out border border-[var(--white-icon-tr)] p-3 rounded-full bg-[#1414149c] hover:bg-[var(--white-icon-tr)] hover:scale-105"
    >
      <span class="md:text-lg text-md">Veja mais projetos no GitHub</span>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
        <path
          d="M12.001 2C6.47598 2 2.00098 6.475 2.00098 12C2.00098 16.425 4.86348 20.1625 8.83848 21.4875C9.33848 21.575 9.52598 21.275 9.52598 21.0125C9.52598 20.775 9.51348 19.9875 9.51348 19.15C7.00098 19.6125 6.35098 18.5375 6.15098 17.975C6.03848 17.6875 5.55098 16.8 5.12598 16.5625C4.77598 16.375 4.27598 15.9125 5.11348 15.9C5.90098 15.8875 6.46348 16.625 6.65098 16.925C7.55098 18.4375 8.98848 18.0125 9.56348 17.75C9.65098 17.1 9.91348 16.6625 10.201 16.4125C7.97598 16.1625 5.65098 15.3 5.65098 11.475C5.65098 10.3875 6.03848 9.4875 6.67598 8.7875C6.57598 8.5375 6.22598 7.5125 6.77598 6.1375C6.77598 6.1375 7.61348 5.875 9.52598 7.1625C10.326 6.9375 11.176 6.825 12.026 6.825C12.876 6.825 13.726 6.9375 14.526 7.1625C16.4385 5.8625 17.276 6.1375 17.276 6.1375C17.826 7.5125 17.476 8.5375 17.376 8.7875C18.0135 9.4875 18.401 10.375 18.401 11.475C18.401 15.3125 16.0635 16.1625 13.8385 16.4125C14.201 16.725 14.5135 17.325 14.5135 18.2625C14.5135 19.6 14.501 20.675 14.501 21.0125C14.501 21.275 14.6885 21.5875 15.1885 21.4875C19.259 20.1133 21.9999 16.2963 22.001 12C22.001 6.475 17.526 2 12.001 2Z"
        ></path>
      </svg>
    </a>
  </div>
</section>